## API-сервис комментариев
***
Общий префикс URL-эндпоинта для всего функционала: **api/v1/comm/...**
***
Возможности сервиса (суффиксы URL-эндпоинтов):

1) **commentaries/** - базовый эндпоинт на листинг комментариев и их создание. 

    При создании комментария указывается автор, контент, комментируемая сущность и id конкретной записи, принадлежащей данной сущностти. Поле с датой и ссылка на родительский комментарий заполняется автоматически.
    Для уточнения листинга возможно передавать дополнительные параметры в запросе (по умолчанию отображается полный набор комментариев из БД):
   - /?entity={str}&id={number} - отображение всех комментариев первого уровня к определенному объекту сущности, где {str} - имя сущности (строчными латинскими буквами), {number} - число, представляющее id объекта сущности;
   - /?username={str} - отображение всей истории комментариев по определенному пользователю, где {str} - имя требуемого пользователя.
   
   При данном запросе предусматривается пагинация с ограничением в 5 комментариев на странице.


2) **commentaries/branch/** - запрос на получение полной ветки комментариев всех уровней вложенности, относящейся к определенному объекту сущности (в т.ч. - к другому комментарию). 

    В запросе обязательно должны быть переданы дополнительные параметры, явно указывающие на объект сущности, от которого должно быть взято нисходящее дерево комментариев (включая сам передаваемый объект, если это комментарий):
   - /?entity={str}&id={number} - поля {str} и {number} заполняются по аналогии с пунктом №1.
   
   Порядок выдачи результатов от данного запроса:

    Первый комментарий первого уровня (1) -> 
    
    -> Первый комментарий второго уровня (1.1) ->

    -> Первый комментарий третьего уровня (1.1.1)  ->

    -> N-ый комментарий в текущей ветке ->

    -> Второй комментарий второго уровня (1.2) ->

    -> Второй комментарий первого уровня (2) ->

    -> и так далее...

   Если у родительского комментария несколько детей, то сначала отображается полное углубление ветки первого (по дате создания), а только затем второй и последующие (если и под ними есть ветки, то они отображаются перед последующими комментариями того же уровня)


3) **commentaries/csv_export/** - запрос на формирование .CSV файла со всеми комментариями, относящимися к определенному пользователю или к определенному объекту сущности (в зависимости от передаваемых параметров): 
   
   - /?entity={str}&id={number} - аналогично пунктам №1 и №2
   - /?username={str} - аналогично пункту №1
   - /?start_date={date}&end_date={date} - опциональные параметры, которые могут быть применены как к экспорту по сущности, так и к экспорту по пользователю. Служат для указания временного диапазона, в рамках которого должны быть экспортированы комментарии. Если диапазон не будет указан (или будет указана только одна из границ диапазона), то будут выгружены все запрашиваемые комментарии. Требуемый формат указания даты в поле {date}: YYYY-MM-DD.
   